{"ast":null,"code":"const HSThemeAppearance = {\n  currentThemeAttributeName: 'data-hs-current-theme',\n  visablilityAttributeName: 'data-hs-theme-appearance',\n\n  init() {\n    const defaultTheme = window.hs_config.themeAppearance.layoutSkin;\n    let theme = localStorage.getItem('hs_theme') || defaultTheme;\n\n    if (theme === 'auto') {\n      theme = window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'default';\n    }\n\n    const $appearances = document.querySelectorAll(`[data-hs-appearance=\"${theme}\"]`);\n\n    this._linkElementsAction(theme, $appearances, () => {\n      document.querySelector('[data-hs-appearance-onload-styles]').remove();\n    });\n\n    this._setVisablilityStyles(theme);\n  },\n\n  setAppearance(theme, saveInStore = true) {\n    const scrollTop = window.pageYOffset;\n\n    if (saveInStore) {\n      localStorage.setItem('hs_theme', theme);\n    }\n\n    if (theme === 'auto') {\n      theme = window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'default';\n    }\n\n    const $appearances = document.querySelectorAll(`[data-hs-appearance=\"${theme}\"]`);\n\n    if (!$appearances.length) {\n      return console.error(`Theme '${theme}' not found.`);\n    }\n\n    const $resetStyles = this._resetStylesOnLoad();\n\n    this._linkElementsAction(theme, $appearances, () => {\n      window.scrollTo({\n        top: scrollTop\n      });\n\n      this._removeOldStyleElements();\n\n      this._setVisablilityStyles(theme);\n\n      $resetStyles.remove();\n    });\n\n    window.dispatchEvent(new CustomEvent('on-hs-appearance-change', {\n      detail: theme\n    }));\n  },\n\n  _resetStylesOnLoad() {\n    const $resetStyles = document.createElement('style');\n    $resetStyles.innerText = `*{transition: unset !important;}body{opacity: 0 !important;}`;\n    $resetStyles.setAttribute('data-hs-appearance-onload-styles', '');\n    document.head.appendChild($resetStyles);\n    return $resetStyles;\n  },\n\n  _setVisablilityStyles(theme) {\n    const attrubuteName = 'data-hs-appearance-visability-styles';\n    let $style = document.querySelector(`[${attrubuteName}]`);\n\n    if (!$style) {\n      $style = document.createElement('style');\n      $style.setAttribute(attrubuteName, '');\n      document.head.append($style);\n    }\n\n    $style.textContent = `[${this.visablilityAttributeName}]:not([${this.visablilityAttributeName}='${theme}']){display:none!important;}`;\n  },\n\n  _linkElementsAction(theme, appearances, callback = null) {\n    this._setOldAppearanceElements();\n\n    const linkElements = [];\n    appearances.forEach($appearanceNode => {\n      const $link = document.createElement('link');\n      $link.setAttribute('rel', 'stylesheet');\n      $link.setAttribute('href', $appearanceNode.getAttribute('href'));\n      $link.setAttribute(this.currentThemeAttributeName, 'stylesheet');\n      document.head.insertAdjacentElement('afterEnd', $link);\n      linkElements.push($link);\n    });\n\n    if (callback) {\n      let loaded = 0;\n      linkElements.forEach($styleNode => {\n        $styleNode.addEventListener('load', function () {\n          loaded++;\n\n          if (loaded === linkElements.length) {\n            return callback();\n          }\n        });\n      });\n    }\n  },\n\n  _setOldAppearanceElements() {\n    const $currentAppearanceElements = document.querySelectorAll(`[${this.currentThemeAttributeName}]`);\n\n    if ($currentAppearanceElements.length) {\n      $currentAppearanceElements.forEach($appearnce => $appearnce.setAttribute('data-hs-appearnce-old', true));\n    }\n  },\n\n  _removeOldStyleElements() {\n    const $oldAppearanceElements = document.querySelectorAll(`[${'data-hs-appearnce-old'}]`);\n\n    if ($oldAppearanceElements.length) {\n      $oldAppearanceElements.forEach($appearnce => $appearnce.remove());\n    }\n  },\n\n  getAppearance() {\n    let theme = this.getOriginalAppearance();\n\n    if (theme === 'auto') {\n      theme = window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'default';\n    }\n\n    return theme;\n  },\n\n  getOriginalAppearance() {\n    const defaultTheme = window.hs_config.themeAppearance.layoutSkin;\n    return localStorage.getItem('hs_theme') || defaultTheme;\n  }\n\n};\nHSThemeAppearance.init();\nwindow.matchMedia('(prefers-color-scheme: dark)').addEventListener('change', e => {\n  if (HSThemeAppearance.getOriginalAppearance() === 'auto') {\n    HSThemeAppearance.setAppearance('auto', false);\n  }\n});","map":{"version":3,"names":["HSThemeAppearance","currentThemeAttributeName","visablilityAttributeName","init","defaultTheme","window","hs_config","themeAppearance","layoutSkin","theme","localStorage","getItem","matchMedia","matches","$appearances","document","querySelectorAll","_linkElementsAction","querySelector","remove","_setVisablilityStyles","setAppearance","saveInStore","scrollTop","pageYOffset","setItem","length","console","error","$resetStyles","_resetStylesOnLoad","scrollTo","top","_removeOldStyleElements","dispatchEvent","CustomEvent","detail","createElement","innerText","setAttribute","head","appendChild","attrubuteName","$style","append","textContent","appearances","callback","_setOldAppearanceElements","linkElements","forEach","$appearanceNode","$link","getAttribute","insertAdjacentElement","push","loaded","$styleNode","addEventListener","$currentAppearanceElements","$appearnce","$oldAppearanceElements","getAppearance","getOriginalAppearance","e"],"sources":["/Users/dougspencer/Documents/Bold Xchange Vue 1.0/src/assets/js/hs.theme-appearance.js"],"sourcesContent":["const HSThemeAppearance = {\n  currentThemeAttributeName: 'data-hs-current-theme',\n  visablilityAttributeName: 'data-hs-theme-appearance',\n\n  init() {\n    const defaultTheme = window.hs_config.themeAppearance.layoutSkin\n    let theme = localStorage.getItem('hs_theme') || defaultTheme\n\n    if (theme === 'auto') {\n      theme = window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'default'\n    }\n\n    const $appearances = document.querySelectorAll(`[data-hs-appearance=\"${theme}\"]`)\n\n    this._linkElementsAction(theme, $appearances, () => {\n      document.querySelector('[data-hs-appearance-onload-styles]').remove()\n    })\n\n    this._setVisablilityStyles(theme)\n  },\n\n  setAppearance(theme, saveInStore = true) {\n    const scrollTop = window.pageYOffset\n\n    if (saveInStore) {\n      localStorage.setItem('hs_theme', theme)\n    }\n\n    if (theme === 'auto') {\n      theme = window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'default'\n    }\n\n    const $appearances = document.querySelectorAll(`[data-hs-appearance=\"${theme}\"]`)\n    if (!$appearances.length) {\n      return console.error(`Theme '${theme}' not found.`)\n    }\n\n    const $resetStyles = this._resetStylesOnLoad()\n\n    this._linkElementsAction(theme, $appearances, () => {\n      window.scrollTo({top: scrollTop})\n      this._removeOldStyleElements()\n      this._setVisablilityStyles(theme)\n      $resetStyles.remove()\n    })\n\n    window.dispatchEvent(new CustomEvent('on-hs-appearance-change', {detail: theme}))\n  },\n\n  _resetStylesOnLoad() {\n    const $resetStyles = document.createElement('style')\n    $resetStyles.innerText = `*{transition: unset !important;}body{opacity: 0 !important;}`\n    $resetStyles.setAttribute('data-hs-appearance-onload-styles', '')\n    document.head.appendChild($resetStyles)\n    return $resetStyles\n  },\n\n  _setVisablilityStyles(theme) {\n    const attrubuteName = 'data-hs-appearance-visability-styles'\n    let $style = document.querySelector(`[${attrubuteName}]`)\n\n    if (!$style) {\n      $style = document.createElement('style')\n      $style.setAttribute(attrubuteName, '')\n      document.head.append($style)\n    }\n\n    $style.textContent = `[${this.visablilityAttributeName}]:not([${this.visablilityAttributeName}='${theme}']){display:none!important;}`\n  },\n\n  _linkElementsAction(theme, appearances, callback = null) {\n    this._setOldAppearanceElements()\n    const linkElements = []\n\n    appearances.forEach($appearanceNode => {\n      const $link = document.createElement('link')\n      $link.setAttribute('rel', 'stylesheet')\n      $link.setAttribute('href', $appearanceNode.getAttribute('href'))\n      $link.setAttribute(this.currentThemeAttributeName, 'stylesheet')\n      document.head.insertAdjacentElement('afterEnd', $link)\n      linkElements.push($link)\n    })\n\n    if (callback) {\n      let loaded = 0\n\n      linkElements.forEach($styleNode => {\n        $styleNode.addEventListener('load', function () {\n          loaded++\n          if (loaded === linkElements.length) {\n            return callback()\n          }\n        })\n      })\n    }\n  },\n\n  _setOldAppearanceElements() {\n    const $currentAppearanceElements = document.querySelectorAll(`[${this.currentThemeAttributeName}]`)\n    if ($currentAppearanceElements.length) {\n      $currentAppearanceElements.forEach($appearnce => $appearnce.setAttribute('data-hs-appearnce-old', true))\n    }\n  },\n\n  _removeOldStyleElements() {\n    const $oldAppearanceElements = document.querySelectorAll(`[${'data-hs-appearnce-old'}]`)\n    if ($oldAppearanceElements.length) {\n      $oldAppearanceElements.forEach($appearnce => $appearnce.remove())\n    }\n  },\n\n  getAppearance() {\n    let theme = this.getOriginalAppearance()\n\n    if (theme === 'auto') {\n      theme = window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'default'\n    }\n\n    return theme\n  },\n\n  getOriginalAppearance() {\n    const defaultTheme = window.hs_config.themeAppearance.layoutSkin\n    return localStorage.getItem('hs_theme') || defaultTheme\n  }\n}\n\nHSThemeAppearance.init()\n\nwindow.matchMedia('(prefers-color-scheme: dark)').addEventListener('change', e => {\n  if (HSThemeAppearance.getOriginalAppearance() === 'auto') {\n    HSThemeAppearance.setAppearance('auto', false)\n  }\n})\n"],"mappings":"AAAA,MAAMA,iBAAiB,GAAG;EACxBC,yBAAyB,EAAE,uBADH;EAExBC,wBAAwB,EAAE,0BAFF;;EAIxBC,IAAI,GAAG;IACL,MAAMC,YAAY,GAAGC,MAAM,CAACC,SAAP,CAAiBC,eAAjB,CAAiCC,UAAtD;IACA,IAAIC,KAAK,GAAGC,YAAY,CAACC,OAAb,CAAqB,UAArB,KAAoCP,YAAhD;;IAEA,IAAIK,KAAK,KAAK,MAAd,EAAsB;MACpBA,KAAK,GAAGJ,MAAM,CAACO,UAAP,CAAkB,8BAAlB,EAAkDC,OAAlD,GAA4D,MAA5D,GAAqE,SAA7E;IACD;;IAED,MAAMC,YAAY,GAAGC,QAAQ,CAACC,gBAAT,CAA2B,wBAAuBP,KAAM,IAAxD,CAArB;;IAEA,KAAKQ,mBAAL,CAAyBR,KAAzB,EAAgCK,YAAhC,EAA8C,MAAM;MAClDC,QAAQ,CAACG,aAAT,CAAuB,oCAAvB,EAA6DC,MAA7D;IACD,CAFD;;IAIA,KAAKC,qBAAL,CAA2BX,KAA3B;EACD,CAnBuB;;EAqBxBY,aAAa,CAACZ,KAAD,EAAQa,WAAW,GAAG,IAAtB,EAA4B;IACvC,MAAMC,SAAS,GAAGlB,MAAM,CAACmB,WAAzB;;IAEA,IAAIF,WAAJ,EAAiB;MACfZ,YAAY,CAACe,OAAb,CAAqB,UAArB,EAAiChB,KAAjC;IACD;;IAED,IAAIA,KAAK,KAAK,MAAd,EAAsB;MACpBA,KAAK,GAAGJ,MAAM,CAACO,UAAP,CAAkB,8BAAlB,EAAkDC,OAAlD,GAA4D,MAA5D,GAAqE,SAA7E;IACD;;IAED,MAAMC,YAAY,GAAGC,QAAQ,CAACC,gBAAT,CAA2B,wBAAuBP,KAAM,IAAxD,CAArB;;IACA,IAAI,CAACK,YAAY,CAACY,MAAlB,EAA0B;MACxB,OAAOC,OAAO,CAACC,KAAR,CAAe,UAASnB,KAAM,cAA9B,CAAP;IACD;;IAED,MAAMoB,YAAY,GAAG,KAAKC,kBAAL,EAArB;;IAEA,KAAKb,mBAAL,CAAyBR,KAAzB,EAAgCK,YAAhC,EAA8C,MAAM;MAClDT,MAAM,CAAC0B,QAAP,CAAgB;QAACC,GAAG,EAAET;MAAN,CAAhB;;MACA,KAAKU,uBAAL;;MACA,KAAKb,qBAAL,CAA2BX,KAA3B;;MACAoB,YAAY,CAACV,MAAb;IACD,CALD;;IAOAd,MAAM,CAAC6B,aAAP,CAAqB,IAAIC,WAAJ,CAAgB,yBAAhB,EAA2C;MAACC,MAAM,EAAE3B;IAAT,CAA3C,CAArB;EACD,CA/CuB;;EAiDxBqB,kBAAkB,GAAG;IACnB,MAAMD,YAAY,GAAGd,QAAQ,CAACsB,aAAT,CAAuB,OAAvB,CAArB;IACAR,YAAY,CAACS,SAAb,GAA0B,8DAA1B;IACAT,YAAY,CAACU,YAAb,CAA0B,kCAA1B,EAA8D,EAA9D;IACAxB,QAAQ,CAACyB,IAAT,CAAcC,WAAd,CAA0BZ,YAA1B;IACA,OAAOA,YAAP;EACD,CAvDuB;;EAyDxBT,qBAAqB,CAACX,KAAD,EAAQ;IAC3B,MAAMiC,aAAa,GAAG,sCAAtB;IACA,IAAIC,MAAM,GAAG5B,QAAQ,CAACG,aAAT,CAAwB,IAAGwB,aAAc,GAAzC,CAAb;;IAEA,IAAI,CAACC,MAAL,EAAa;MACXA,MAAM,GAAG5B,QAAQ,CAACsB,aAAT,CAAuB,OAAvB,CAAT;MACAM,MAAM,CAACJ,YAAP,CAAoBG,aAApB,EAAmC,EAAnC;MACA3B,QAAQ,CAACyB,IAAT,CAAcI,MAAd,CAAqBD,MAArB;IACD;;IAEDA,MAAM,CAACE,WAAP,GAAsB,IAAG,KAAK3C,wBAAyB,UAAS,KAAKA,wBAAyB,KAAIO,KAAM,8BAAxG;EACD,CApEuB;;EAsExBQ,mBAAmB,CAACR,KAAD,EAAQqC,WAAR,EAAqBC,QAAQ,GAAG,IAAhC,EAAsC;IACvD,KAAKC,yBAAL;;IACA,MAAMC,YAAY,GAAG,EAArB;IAEAH,WAAW,CAACI,OAAZ,CAAoBC,eAAe,IAAI;MACrC,MAAMC,KAAK,GAAGrC,QAAQ,CAACsB,aAAT,CAAuB,MAAvB,CAAd;MACAe,KAAK,CAACb,YAAN,CAAmB,KAAnB,EAA0B,YAA1B;MACAa,KAAK,CAACb,YAAN,CAAmB,MAAnB,EAA2BY,eAAe,CAACE,YAAhB,CAA6B,MAA7B,CAA3B;MACAD,KAAK,CAACb,YAAN,CAAmB,KAAKtC,yBAAxB,EAAmD,YAAnD;MACAc,QAAQ,CAACyB,IAAT,CAAcc,qBAAd,CAAoC,UAApC,EAAgDF,KAAhD;MACAH,YAAY,CAACM,IAAb,CAAkBH,KAAlB;IACD,CAPD;;IASA,IAAIL,QAAJ,EAAc;MACZ,IAAIS,MAAM,GAAG,CAAb;MAEAP,YAAY,CAACC,OAAb,CAAqBO,UAAU,IAAI;QACjCA,UAAU,CAACC,gBAAX,CAA4B,MAA5B,EAAoC,YAAY;UAC9CF,MAAM;;UACN,IAAIA,MAAM,KAAKP,YAAY,CAACvB,MAA5B,EAAoC;YAClC,OAAOqB,QAAQ,EAAf;UACD;QACF,CALD;MAMD,CAPD;IAQD;EACF,CA/FuB;;EAiGxBC,yBAAyB,GAAG;IAC1B,MAAMW,0BAA0B,GAAG5C,QAAQ,CAACC,gBAAT,CAA2B,IAAG,KAAKf,yBAA0B,GAA7D,CAAnC;;IACA,IAAI0D,0BAA0B,CAACjC,MAA/B,EAAuC;MACrCiC,0BAA0B,CAACT,OAA3B,CAAmCU,UAAU,IAAIA,UAAU,CAACrB,YAAX,CAAwB,uBAAxB,EAAiD,IAAjD,CAAjD;IACD;EACF,CAtGuB;;EAwGxBN,uBAAuB,GAAG;IACxB,MAAM4B,sBAAsB,GAAG9C,QAAQ,CAACC,gBAAT,CAA2B,IAAG,uBAAwB,GAAtD,CAA/B;;IACA,IAAI6C,sBAAsB,CAACnC,MAA3B,EAAmC;MACjCmC,sBAAsB,CAACX,OAAvB,CAA+BU,UAAU,IAAIA,UAAU,CAACzC,MAAX,EAA7C;IACD;EACF,CA7GuB;;EA+GxB2C,aAAa,GAAG;IACd,IAAIrD,KAAK,GAAG,KAAKsD,qBAAL,EAAZ;;IAEA,IAAItD,KAAK,KAAK,MAAd,EAAsB;MACpBA,KAAK,GAAGJ,MAAM,CAACO,UAAP,CAAkB,8BAAlB,EAAkDC,OAAlD,GAA4D,MAA5D,GAAqE,SAA7E;IACD;;IAED,OAAOJ,KAAP;EACD,CAvHuB;;EAyHxBsD,qBAAqB,GAAG;IACtB,MAAM3D,YAAY,GAAGC,MAAM,CAACC,SAAP,CAAiBC,eAAjB,CAAiCC,UAAtD;IACA,OAAOE,YAAY,CAACC,OAAb,CAAqB,UAArB,KAAoCP,YAA3C;EACD;;AA5HuB,CAA1B;AA+HAJ,iBAAiB,CAACG,IAAlB;AAEAE,MAAM,CAACO,UAAP,CAAkB,8BAAlB,EAAkD8C,gBAAlD,CAAmE,QAAnE,EAA6EM,CAAC,IAAI;EAChF,IAAIhE,iBAAiB,CAAC+D,qBAAlB,OAA8C,MAAlD,EAA0D;IACxD/D,iBAAiB,CAACqB,aAAlB,CAAgC,MAAhC,EAAwC,KAAxC;EACD;AACF,CAJD"},"metadata":{},"sourceType":"script"}